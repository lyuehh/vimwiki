<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>wiki by lyuehh</title>
    <link type="text/css" rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.0.0/css/bootstrap-theme.min.css"/>
    <link type="text/css" rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.0.0/css/bootstrap.min.css"/>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="page-header">
              <h1><a href="/">wiki by lyuehh</a><small><a href="https://github.com/lyuehh/vimwiki"> view on GitHub</a></small></h1>
            </div>
        </div>
        <div class="row">
            <div class="row">
              <div class="col-md-2">
                  <ul>
                      <li><a href="/JavaScript.html">JavaScript</a></li>
                      <li><a href="/Shell.html">Shell</a></li>
                      <li><a href="/C.html">JavaScript</a></li>
                      <li><a href="/Mac.html">Mac</a></li>
                      <li><a href="/Ruby.html">Ruby</a></li>
                      <li><a href="/Python.html">Python</a></li>
                      <li><a href="/Node.html">Node.js</a></li>
                      <li><a href="/CSS.html">CSS</a></li>
                      <li><a href="/Vim.html">Vim</a></li>
                      <li><a href="/Java.html">Java</a></li>
                      <li><a href="/Git.html">Git</a></li>
                      <li><a href="/Emacs.html">Emacs</a></li>
                      <li><a href="/Data.html">Data</a></li>
                      <li><a href="/Haskell.html">Haskell</a></li>
                      <li><a href="/Web.html">Web</a></li>
                      <li><a href="/Life.html">Life</a></li>
                      <li><a href="/Tips.html">Tips</a></li>
                      <li><a href="/Algorithms.html">Algorithms</a></li>
                  </ul>
              </div>
              <div class="col-md-10">
                  <h2 id="ruby">Ruby</h2>
<h3 id="vim">vim</h3>
<p><code># vim: set ft=ruby:</code></p>
<h3 id="rake-">rake参数</h3>
<pre><code class="lang-ruby">task :test, :p1 do |t, args|
  puts args[:p1]
end
rake test[&quot;test&quot;]  # -&gt; &quot;test&quot;</code></pre>
<p>更好的方式
<code>$ ver=20130101 rake test</code></p>
<pre><code class="lang-ruby">ver = ENV[&#39;ver&#39;] # -&gt; &#39;20130101&#39;</code></pre>
<h3 id="-vagrant-vbox-guest-">更新vagrant 虚拟机中的vbox guest 版本</h3>
<p><code>gem install vagrant-vbguest</code></p>
<h3 id="-">多行注释</h3>
<pre><code class="lang-ruby">=begin
def a
  puts &#39;a&#39;
end
=end</code></pre>
<h3 id="proc-new-vs-lambda-in-ruby">Proc.new vs Lambda in ruby</h3>
<pre><code class="lang-ruby">def foo
  f = Proc.new { return &quot;return from foo from inside proc&quot; }
  f.call # control leaves foo here
  return &quot;return from foo&quot; 
end

def bar
  f = lambda { return &quot;return from lambda&quot; }
  f.call # control does not leave bar here
  return &quot;return from bar&quot; 
end

puts foo # prints &quot;return from foo from inside proc&quot; 
puts bar # prints &quot;return from bar&quot;</code></pre>
<h3 id="lazy-enumerator">Lazy Enumerator</h3>
<p><code>(0..Float::INFINITY).lazy.map{|i| ((-1) ** i) / (2*i + 1).to_f}.take(655360).reduce(:+) * 4</code></p>
<h3 id="inject">inject</h3>
<pre><code class="lang-ruby">def fib(n)
  (0..n).inject([1,0]) { |(a,b), _| [b, a+b] }[0]
end</code></pre>
<p>[1,0]</p>
<h3 id="fileutil">FileUtil</h3>
<pre><code class="lang-ruby">FileUtils.rm_rf &#39;/tmp/home&#39;
FileUtils.mkdir &#39;/tmp/home&#39;</code></pre>
<h3 id="nokogiri">nokogiri</h3>
<pre><code class="lang-ruby">page = Nokogiri::HTML(open(PAGE_URL))
news_links = page.css(&quot;a&quot;).select{|link| link[&#39;data-category&#39;] == &quot;news&quot;}
news_links.each{|link| puts link[&#39;href&#39;] }
page.css(&#39;p&#39;).css(&quot;a[data-category=news]&quot;).css(&quot;strong&quot;)</code></pre>


              </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="http://cdn.staticfile.org/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdn.staticfile.org/twitter-bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
